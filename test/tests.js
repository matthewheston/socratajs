test("DatasetManager constructor", function() {
	ok(new Socrata.DatasetManager("http://data.cityofchicago.org/Transportation/Towed-Vehicles/ygr5-vcbg"), "Constructor taking in URL");
  raises(function() {
    var datasetManager = new Socrata.DatasetManager();
  },
  function(e) {
    return e.message == "DatasetManager constructor expects URL parameter";
  },
  "Constructor without URL parameter.");
});

test("Dataset constructor", function() {
  var dataset = new Socrata.Dataset();
  ok(dataset, "Constructor doesn't cause error");
  ok(dataset.rows, "Rows property exists");
  ok(dataset.columns, "Columns property exists");
  equals(dataset.columns.length, 0);
  equals(dataset.rows.length, 0);
});

test("DatasetManager methods", function() {
  $.mockjaxSettings.contentType = 'text/json';

  $.mockjax({
    url: "http://data.cityofchicago.org/views/ygr5-vcbg/rows.json?jsonp=?",
		//responseText {{{
    responseText: ({  "meta" : {    "view" : {      "id" : "ygr5-vcbg",      "name" : "Towed Vehicles",      "attribution" : "Chicago Police Department",      "attributionLink" : "http://www.chicagopolice.org/",      "averageRating" : 0,      "category" : "Transportation",      "createdAt" : 1317369605,      "description" : "This dataset displays location for vehicles that have been towed and impounded by the City of Chicago within the last 90 days. Illegally parked vehicles, abandoned vehicles and vehicles used for illegal activities may be towed by the Chicago Police Department, the Department of Streets and Sanitation, the Department of Revenue, Aviation and the office of the City Clerk. After a tow request is issued, an inventory number is assigned by the Department of Streets and Sanitation and a truck is dispatched to tow the requested vehicle to a City auto pound. Disclaimer: This dataset includes vehicles towed or relocated by the City of Chicago; it does not include vehicles towed by a private towing company. \r\nBackground Info: \r\nAuto Pound Locations (http://j.mp/kG5sgF).\r\nTow Process Overview (http://j.mp/lfBOEP).\r\nCommon Towing Questions (http://j.mp/imFYlp).\r\nParking and Standing Violations (http://j.mp/ifW8Uj).\r\nData Owner: Chicago Police Department.\r\nTime Period: Last 90 days.\r\nFrequency: Data is updated daily.\r\nRelated Applications: Find Your Vehicle (http://j.mp/lWn0S7).",      "displayType" : "table",      "downloadCount" : 495,      "numberOfComments" : 0,      "oid" : 352050,      "publicationAppendEnabled" : false,      "publicationDate" : 1319357237,      "publicationGroup" : 226362,      "publicationStage" : "published",      "rowsUpdatedAt" : 1319357236,      "rowsUpdatedBy" : "scy9-9wg4",      "signed" : false,      "tableId" : 247670,      "totalTimesRated" : 0,      "viewCount" : 967,      "viewLastModified" : 1319357237,      "viewType" : "tabular",      "columns" : [ {        "id" : -1,        "name" : "sid",        "dataTypeName" : "meta_data",        "fieldName" : "sid",        "position" : 0,        "renderTypeName" : "meta_data",        "format" : {        }      }, {        "id" : -1,        "name" : "id",        "dataTypeName" : "meta_data",        "fieldName" : "id",        "position" : 0,        "renderTypeName" : "meta_data",        "format" : {        }      }, {        "id" : -1,        "name" : "position",        "dataTypeName" : "meta_data",        "fieldName" : "position",        "position" : 0,        "renderTypeName" : "meta_data",        "format" : {        }      }, {        "id" : -1,        "name" : "created_at",        "dataTypeName" : "meta_data",        "fieldName" : "created_at",        "position" : 0,        "renderTypeName" : "meta_data",        "format" : {        }      }, {        "id" : -1,        "name" : "created_meta",        "dataTypeName" : "meta_data",        "fieldName" : "created_meta",        "position" : 0,        "renderTypeName" : "meta_data",        "format" : {        }      }, {        "id" : -1,        "name" : "updated_at",        "dataTypeName" : "meta_data",        "fieldName" : "updated_at",        "position" : 0,        "renderTypeName" : "meta_data",        "format" : {        }      }, {        "id" : -1,        "name" : "updated_meta",        "dataTypeName" : "meta_data",        "fieldName" : "updated_meta",        "position" : 0,        "renderTypeName" : "meta_data",        "format" : {        }      }, {        "id" : -1,        "name" : "meta",        "dataTypeName" : "meta_data",        "fieldName" : "meta",        "position" : 0,        "renderTypeName" : "meta_data",        "format" : {        }      }, {        "id" : 3220758,        "name" : "Tow Date",        "dataTypeName" : "calendar_date",        "fieldName" : "tow_date",        "position" : 2,        "renderTypeName" : "calendar_date",        "tableColumnId" : 1450906,        "width" : 99,        "format" : {          "aggregate" : "count",          "align" : "left",          "view" : "date"        }      }, {        "id" : 3220759,        "name" : "Make",        "dataTypeName" : "text",        "fieldName" : "make",        "position" : 3,        "renderTypeName" : "text",        "tableColumnId" : 1450907,        "width" : 69,        "format" : {        }      }, {        "id" : 3220760,        "name" : "Style",        "dataTypeName" : "text",        "fieldName" : "style",        "position" : 4,        "renderTypeName" : "text",        "tableColumnId" : 1450908,        "width" : 70,        "format" : {        }      }, {        "id" : 3220761,        "name" : "Model",        "dataTypeName" : "text",        "fieldName" : "model",        "position" : 5,        "renderTypeName" : "text",        "tableColumnId" : 1450909,        "width" : 82,        "format" : {        }      }, {        "id" : 3220762,        "name" : "Color",        "dataTypeName" : "text",        "fieldName" : "color",        "position" : 6,        "renderTypeName" : "text",        "tableColumnId" : 1450910,        "width" : 85,        "format" : {        }      }, {        "id" : 3220763,        "name" : "Plate",        "dataTypeName" : "text",        "fieldName" : "plate",        "position" : 7,        "renderTypeName" : "text",        "tableColumnId" : 1450911,        "width" : 130,        "format" : {        }      }, {        "id" : 3220764,        "name" : "State",        "dataTypeName" : "text",        "fieldName" : "state",        "position" : 8,        "renderTypeName" : "text",        "tableColumnId" : 1450912,        "width" : 76,        "format" : {        }      }, {        "id" : 3220765,        "name" : "Towed to Address",        "dataTypeName" : "text",        "fieldName" : "towed_to_address",        "position" : 9,        "renderTypeName" : "text",        "tableColumnId" : 1450913,        "width" : 152,        "format" : {        }      }, {        "id" : 3220766,        "name" : "Tow Facility Phone",        "dataTypeName" : "text",        "fieldName" : "tow_facility_phone",        "position" : 10,        "renderTypeName" : "text",        "tableColumnId" : 1450914,        "width" : 145,        "format" : {        }      }, {        "id" : 3220767,        "name" : "Inventory Number",        "dataTypeName" : "text",        "fieldName" : "inventory_number",        "position" : 11,        "renderTypeName" : "text",        "tableColumnId" : 1450916,        "width" : 103,        "format" : {          "precisionStyle" : "standard",          "align" : "right",          "noCommas" : "false"        }      } ],      "grants" : [ {        "inherited" : false,        "type" : "viewer",        "flags" : [ "public" ]      } ],      "metadata" : {        "custom_fields" : {          "Metadata" : {            "Data Owner" : "Police",            "Time Period" : "Last 90 days",            "Frequency" : "Data is updated daily"          }        },        "availableDisplayTypes" : [ "table", "fatrow", "page" ],        "rdfSubject" : "0",        "warnings" : [ "Error at row 1: There was an error converting the value in the column Tow Date(1) to a calendar_date. Unknown date format \'tow date\'." ]      },      "owner" : {        "id" : "scy9-9wg4",        "displayName" : "cocadmin",        "emailUnsubscribed" : false,        "privacyControl" : "login",        "profileImageUrlLarge" : "/images/profile/4783/7574/CitySeal_Small_large.jpg",        "profileImageUrlMedium" : "/images/profile/4783/7574/CitySeal_Small_thumb.jpg",        "profileImageUrlSmall" : "/images/profile/4783/7574/CitySeal_Small_tiny.jpg",        "profileLastModified" : 1316007354,        "roleName" : "administrator",        "screenName" : "cocadmin",        "rights" : [ "create_datasets", "edit_others_datasets", "edit_sdp", "edit_site_theme", "moderate_comments", "manage_users", "chown_datasets", "edit_nominations", "approve_nominations", "feature_items", "federations", "manage_stories", "manage_approval", "change_configurations", "view_domain", "view_others_datasets" ]      },      "query" : {      },      "rights" : [ "read" ],      "tableAuthor" : {        "id" : "scy9-9wg4",        "displayName" : "cocadmin",        "emailUnsubscribed" : false,        "privacyControl" : "login",        "profileImageUrlLarge" : "/images/profile/4783/7574/CitySeal_Small_large.jpg",        "profileImageUrlMedium" : "/images/profile/4783/7574/CitySeal_Small_thumb.jpg",        "profileImageUrlSmall" : "/images/profile/4783/7574/CitySeal_Small_tiny.jpg",        "profileLastModified" : 1316007354,        "roleName" : "administrator",        "screenName" : "cocadmin",        "rights" : [ "create_datasets", "edit_others_datasets", "edit_sdp", "edit_site_theme", "moderate_comments", "manage_users", "chown_datasets", "edit_nominations", "approve_nominations", "feature_items", "federations", "manage_stories", "manage_approval", "change_configurations", "view_domain", "view_others_datasets" ]      },      "tags" : [ "vehicles", "streets" ],      "flags" : [ "default" ]    }  },  "data" : [ [ 1, "91355828-50C1-4FEA-8567-ED8B1EE2229B", 1, 1319357235, "386464", 1319357235, "386464", "{\n  \"invalidCells\" : {\n    \"1619060\" : \"Tow Date\"\n  }\n}", null, "Make", "Style", "Model", "Color", "Plate", "State", "Towed Address", "Phone", "Inventory" ], [ 2, "A1739715-25C7-465C-8C72-30EE20649A01", 2, 1319357235, "386464", 1319357235, "386464", "{\n}", "2011-10-23T00:00:00", "ACUR", "2D", null, "BLK", "L656591", "IL", "701 N. Sacramento", "(773) 265-7605", "06693011" ], [ 3, "C6793E6A-D76C-48B0-A3B8-0BCA2996A0E2", 3, 1319357235, "386464", 1319357235, "386464", "{\n}", "2011-10-23T00:00:00", "BUIC", "4D", null, "SIL", "K149400", "IL", "10300 S. Doty", "(773) 568-8495 ", "02660741" ], [ 4, "C2A58039-0070-4A92-B546-594F37E985B4", 4, 1319357235, "386464", 1319357235, "386464", "{\n}", "2011-10-23T00:00:00", "BUIC", "4D", null, "BGE", "L610366", "IL", "400 E. Lower Wacker", "(312) 744-7550", "00852090" ], [ 5, "9F6778F3-AB4B-46AF-B8BB-ED8F38015996", 5, 1319357235, "386464", 1319357235, "386464", "{\n}", "2011-10-23T00:00:00", "CHEV", "4D", null, "RED", "L237632", "IL", "400 E. Lower Wacker", "(312) 744-7550", "00852086" ], [ 6, "DDE9EB61-5BB2-47E5-8538-D1BAF08EAFEB", 6, 1319357235, "386464", 1319357235, "386464", "{\n}", "2011-10-23T00:00:00", "CHEV", "4D", null, "WHI", "C483327", "IN", "10300 S. Doty", "(773) 568-8495 ", "02660737" ], [ 7, "B420FEAB-61FE-4724-A063-0F2FFFB9E561", 7, 1319357235, "386464", 1319357235, "386464", "{\n}", "2011-10-23T00:00:00", "CHEV", "VN", null, "WHI", "242N027", "IL", "701 N. Sacramento", "(773) 265-7605", "06693014" ], [ 8, "F11B88CF-53CA-4593-8D20-D7FC6215C637", 8, 1319357235, "386464", 1319357235, "386464", "{\n}", "2011-10-23T00:00:00", "CHEV", "VN", null, "BLU", "N188053", "IL", "10300 S. Doty", "(773) 568-8495 ", "02660743" ], [ 9, "5C171377-7C80-4DE0-ACF5-9320DCDBEFE6", 9, 1319357235, "386464", 1319357235, "386464", "{\n}", "2011-10-23T00:00:00", "CHEV", "VN", null, "RED", "N777006", "IL", "400 E. Lower Wacker", "(312) 744-7550", "00852089" ], [ 10, "AC6B7790-E50A-4FC1-B120-3F159308DE41", 10, 1319357235, "386464", 1319357235, "386464", "{\n}", "2011-10-23T00:00:00", "CHEV", "VN", null, "BRO", "L658409", "IL", "10300 S. Doty", "(773) 568-8495 ", "02660747" ] ]})
		//}}}
  });

  $.mockjax({
    url: "http://data.cityofchicago.org/views/ygr5-vcbg/columns.json?jsonp=?",
		// responseText {{{
    responseText: ([ {  "id" : 3270440,  "name" : "Tow Date",  "dataTypeName" : "calendar_date",  "fieldName" : "tow_date",  "position" : 2,  "renderTypeName" : "calendar_date",  "tableColumnId" : 1450906,  "width" : 99,  "cachedContents" : {    "non_null" : 4914,    "smallest" : "2011-07-30T00:00:00",    "null" : 1,    "largest" : "2011-10-27T00:00:00",    "top" : [ {      "count" : 179,      "item" : "2011-10-26T00:00:00"    }, {      "count" : 146,      "item" : "2011-10-22T00:00:00"    }, {      "count" : 141,      "item" : "2011-10-24T00:00:00"    }, {      "count" : 139,      "item" : "2011-10-25T00:00:00"    }, {      "count" : 113,      "item" : "2011-10-21T00:00:00"    }, {      "count" : 109,      "item" : "2011-09-29T00:00:00"    }, {      "count" : 106,      "item" : "2011-10-20T00:00:00"    }, {      "count" : 99,      "item" : "2011-10-19T00:00:00"    }, {      "count" : 95,      "item" : "2011-10-13T00:00:00"    }, {      "count" : 94,      "item" : "2011-10-14T00:00:00"    }, {      "count" : 94,      "item" : "2011-08-06T00:00:00"    }, {      "count" : 85,      "item" : "2011-10-12T00:00:00"    }, {      "count" : 84,      "item" : "2011-08-13T00:00:00"    }, {      "count" : 78,      "item" : "2011-09-30T00:00:00"    }, {      "count" : 76,      "item" : "2011-10-01T00:00:00"    }, {      "count" : 72,      "item" : "2011-10-17T00:00:00"    }, {      "count" : 71,      "item" : "2011-10-06T00:00:00"    }, {      "count" : 71,      "item" : "2011-08-11T00:00:00"    }, {      "count" : 70,      "item" : "2011-08-31T00:00:00"    }, {      "count" : 69,      "item" : "2011-09-28T00:00:00"    } ]  },  "format" : {    "aggregate" : "count",    "align" : "left",    "view" : "date"  }}, {  "id" : 3270441,  "name" : "Make",  "dataTypeName" : "text",  "fieldName" : "make",  "position" : 3,  "renderTypeName" : "text",  "tableColumnId" : 1450907,  "width" : 69,  "cachedContents" : {    "non_null" : 4896,    "smallest" : "ACUR",    "null" : 19,    "largest" : "ZCZY",    "top" : [ {      "count" : 863,      "item" : "CHEV"    }, {      "count" : 649,      "item" : "FORD"    }, {      "count" : 378,      "item" : "DODG"    }, {      "count" : 324,      "item" : "PONT"    }, {      "count" : 309,      "item" : "BUIC"    }, {      "count" : 235,      "item" : "OLDS"    }, {      "count" : 216,      "item" : "TOYT"    }, {      "count" : 203,      "item" : "HOND"    }, {      "count" : 200,      "item" : "NISS"    }, {      "count" : 169,      "item" : "CHRY"    }, {      "count" : 148,      "item" : "MERC"    }, {      "count" : 140,      "item" : "CADI"    }, {      "count" : 114,      "item" : "JEEP"    }, {      "count" : 102,      "item" : "GMC"    }, {      "count" : 84,      "item" : "LINC"    }, {      "count" : 76,      "item" : "SATR"    }, {      "count" : 63,      "item" : "HYUN"    }, {      "count" : 61,      "item" : "VOLK"    }, {      "count" : 59,      "item" : "PLYM"    }, {      "count" : 49,      "item" : "MAZD"    } ]  },  "format" : {  }}, {  "id" : 3270442,  "name" : "Style",  "dataTypeName" : "text",  "fieldName" : "style",  "position" : 4,  "renderTypeName" : "text",  "tableColumnId" : 1450908,  "width" : 70,  "cachedContents" : {    "non_null" : 4832,    "smallest" : "2D",    "null" : 83,    "largest" : "WN",    "top" : [ {      "count" : 2850,      "item" : "4D"    }, {      "count" : 624,      "item" : "LL"    }, {      "count" : 620,      "item" : "2D"    }, {      "count" : 539,      "item" : "VN"    }, {      "count" : 115,      "item" : "PK"    }, {      "count" : 35,      "item" : "SW"    }, {      "count" : 34,      "item" : "MC"    }, {      "count" : 3,      "item" : "MB"    }, {      "count" : 2,      "item" : "MS"    }, {      "count" : 2,      "item" : "TR"    }, {      "count" : 1,      "item" : "Style"    }, {      "count" : 1,      "item" : "BT"    }, {      "count" : 1,      "item" : "WN"    }, {      "count" : 1,      "item" : "HB"    }, {      "count" : 1,      "item" : "SE"    }, {      "count" : 1,      "item" : "ST"    }, {      "count" : 1,      "item" : "MD"    }, {      "count" : 1,      "item" : "CV"    } ]  },  "format" : {  }}, {  "id" : 3270443,  "name" : "Model",  "dataTypeName" : "text",  "fieldName" : "model",  "position" : 5,  "renderTypeName" : "text",  "tableColumnId" : 1450909,  "width" : 82,  "cachedContents" : {    "non_null" : 720,    "smallest" : "ALT",    "null" : 4195,    "largest" : "XTR",    "top" : [ {      "count" : 539,      "item" : "TK"    }, {      "count" : 27,      "item" : "CHE"    }, {      "count" : 17,      "item" : "Q45"    }, {      "count" : 12,      "item" : "CYL"    }, {      "count" : 10,      "item" : "FX3"    }, {      "count" : 6,      "item" : "CAV"    }, {      "count" : 6,      "item" : "CVN"    }, {      "count" : 5,      "item" : "MAL"    }, {      "count" : 4,      "item" : "LR"    }, {      "count" : 4,      "item" : "TL"    }, {      "count" : 4,      "item" : "TAU"    }, {      "count" : 4,      "item" : "I30"    }, {      "count" : 4,      "item" : "GRA"    }, {      "count" : 3,      "item" : "MET"    }, {      "count" : 3,      "item" : "BLZ"    }, {      "count" : 3,      "item" : "VOY"    }, {      "count" : 3,      "item" : "GRM"    }, {      "count" : 3,      "item" : "EXP"    }, {      "count" : 3,      "item" : "IMP"    }, {      "count" : 2,      "item" : "SEN"    } ]  },  "format" : {  }}, {  "id" : 3270444,  "name" : "Color",  "dataTypeName" : "text",  "fieldName" : "color",  "position" : 6,  "renderTypeName" : "text",  "tableColumnId" : 1450910,  "width" : 85,  "cachedContents" : {    "non_null" : 4915,    "smallest" : " ",    "null" : 0,    "largest" : "YEL",    "top" : [ {      "count" : 735,      "item" : "BLK"    }, {      "count" : 730,      "item" : "WHI"    }, {      "count" : 579,      "item" : "BLU"    }, {      "count" : 532,      "item" : "GRN"    }, {      "count" : 463,      "item" : "RED"    }, {      "count" : 461,      "item" : "GRY"    }, {      "count" : 460,      "item" : "SIL"    }, {      "count" : 275,      "item" : "TAN"    }, {      "count" : 244,      "item" : "MAR"    }, {      "count" : 148,      "item" : "GLD"    }, {      "count" : 79,      "item" : "PLE"    }, {      "count" : 73,      "item" : "BRO"    }, {      "count" : 36,      "item" : " "    }, {      "count" : 33,      "item" : "YEL"    }, {      "count" : 32,      "item" : "BGE"    }, {      "count" : 8,      "item" : "ONG"    }, {      "count" : 7,      "item" : "CRM"    }, {      "count" : 5,      "item" : "DBL"    }, {      "count" : 5,      "item" : "LBL"    }, {      "count" : 3,      "item" : "PNK"    } ]  },  "format" : {  }}, {  "id" : 3270445,  "name" : "Plate",  "dataTypeName" : "text",  "fieldName" : "plate",  "position" : 7,  "renderTypeName" : "text",  "tableColumnId" : 1450911,  "width" : 130,  "cachedContents" : {    "non_null" : 4915,    "smallest" : " ",    "null" : 0,    "largest" : "ZX9831",    "top" : [ {      "count" : 544,      "item" : " "    }, {      "count" : 2,      "item" : "L227283"    }, {      "count" : 2,      "item" : "A791022"    }, {      "count" : 2,      "item" : "C272453"    }, {      "count" : 1,      "item" : "L469236"    }, {      "count" : 1,      "item" : "L656339"    }, {      "count" : 1,      "item" : "41418R"    }, {      "count" : 1,      "item" : "K397989"    }, {      "count" : 1,      "item" : "X387100"    }, {      "count" : 1,      "item" : "196N893"    }, {      "count" : 1,      "item" : "KSULLI3"    }, {      "count" : 1,      "item" : "K753704"    }, {      "count" : 1,      "item" : "K707490"    }, {      "count" : 1,      "item" : "G387871"    }, {      "count" : 1,      "item" : "X571405"    }, {      "count" : 1,      "item" : "186N422"    }, {      "count" : 1,      "item" : "L969837"    }, {      "count" : 1,      "item" : "293285D"    }, {      "count" : 1,      "item" : "L425025"    }, {      "count" : 1,      "item" : "837M833"    } ]  },  "format" : {  }}, {  "id" : 3270446,  "name" : "State",  "dataTypeName" : "text",  "fieldName" : "state",  "position" : 8,  "renderTypeName" : "text",  "tableColumnId" : 1450912,  "width" : 76,  "cachedContents" : {    "non_null" : 4915,    "smallest" : " ",    "null" : 0,    "largest" : "WI",    "top" : [ {      "count" : 4047,      "item" : "IL"    }, {      "count" : 544,      "item" : " "    }, {      "count" : 114,      "item" : "IN"    }, {      "count" : 51,      "item" : "WI"    }, {      "count" : 23,      "item" : "MI"    }, {      "count" : 20,      "item" : "MN"    }, {      "count" : 15,      "item" : "OH"    }, {      "count" : 15,      "item" : "IA"    }, {      "count" : 11,      "item" : "TX"    }, {      "count" : 8,      "item" : "FL"    }, {      "count" : 7,      "item" : "MO"    }, {      "count" : 6,      "item" : "GA"    }, {      "count" : 5,      "item" : "OK"    }, {      "count" : 5,      "item" : "MS"    }, {      "count" : 4,      "item" : "VA"    }, {      "count" : 4,      "item" : "CO"    }, {      "count" : 4,      "item" : "AL"    }, {      "count" : 3,      "item" : "KY"    }, {      "count" : 3,      "item" : "AR"    }, {      "count" : 3,      "item" : "KS"    } ]  },  "format" : {  }}, {  "id" : 3270447,  "name" : "Towed to Address",  "dataTypeName" : "text",  "fieldName" : "towed_to_address",  "position" : 9,  "renderTypeName" : "text",  "tableColumnId" : 1450913,  "width" : 152,  "cachedContents" : {    "non_null" : 4915,    "smallest" : "10300 S. Doty",    "null" : 0,    "largest" : "Towed Address",    "top" : [ {      "count" : 2388,      "item" : "701 N. Sacramento"    }, {      "count" : 2363,      "item" : "10300 S. Doty"    }, {      "count" : 144,      "item" : "400 E. Lower Wacker"    }, {      "count" : 10,      "item" : "Chicago O\'hare International Airport remote lot E."    }, {      "count" : 9,      "item" : "Police Pound "    }, {      "count" : 1,      "item" : "Towed Address"    } ]  },  "format" : {  }}, {  "id" : 3270448,  "name" : "Tow Facility Phone",  "dataTypeName" : "text",  "fieldName" : "tow_facility_phone",  "position" : 10,  "renderTypeName" : "text",  "tableColumnId" : 1450914,  "width" : 145,  "cachedContents" : {    "non_null" : 4906,    "smallest" : "(312) 744-7550",    "null" : 9,    "largest" : "Phone",    "top" : [ {      "count" : 2289,      "item" : "(773) 568-8495 "    }, {      "count" : 2276,      "item" : "(773) 265-7605"    }, {      "count" : 144,      "item" : "(312) 744-7550"    }, {      "count" : 112,      "item" : "(773) 265-1846"    }, {      "count" : 74,      "item" : "(773) 785-9752"    }, {      "count" : 10,      "item" : "(312) 746-6350 "    }, {      "count" : 1,      "item" : "Phone"    } ]  },  "format" : {  }}, {  "id" : 3270449,  "name" : "Inventory Number",  "dataTypeName" : "text",  "fieldName" : "inventory_number",  "position" : 11,  "renderTypeName" : "text",  "tableColumnId" : 1450916,  "width" : 103,  "cachedContents" : {    "non_null" : 4915,    "smallest" : "00415069",    "null" : 0,    "largest" : "Inventory",    "top" : [ {      "count" : 2,      "item" : "06691825"    }, {      "count" : 1,      "item" : "06690936"    }, {      "count" : 1,      "item" : "02653996"    }, {      "count" : 1,      "item" : "06692731"    }, {      "count" : 1,      "item" : "01711624"    }, {      "count" : 1,      "item" : "06693150"    }, {      "count" : 1,      "item" : "06687086"    }, {      "count" : 1,      "item" : "02659617"    }, {      "count" : 1,      "item" : "02656128"    }, {      "count" : 1,      "item" : "02660897"    }, {      "count" : 1,      "item" : "02660469"    }, {      "count" : 1,      "item" : "06690201"    }, {      "count" : 1,      "item" : "06692902"    }, {      "count" : 1,      "item" : "06689918"    }, {      "count" : 1,      "item" : "06687406"    }, {      "count" : 1,      "item" : "02658734"    }, {      "count" : 1,      "item" : "02659910"    }, {      "count" : 1,      "item" : "01530702"    }, {      "count" : 1,      "item" : "06689068"    }, {      "count" : 1,      "item" : "06687022"    } ]  },  "format" : {    "precisionStyle" : "standard",    "noCommas" : "false",    "align" : "right"  }} ])
		//}}}
  });

  var columns, rows;
  var datasetManager = new Socrata.DatasetManager("http://data.cityofchicago.org/Transportation/Towed-Vehicles/ygr5-vcbg");
  datasetManager.getDataset(function(dataset) {
   columns = dataset.columns;
   rows = dataset.rows;
   equals(columns.length, 10);
   equals(rows.length, 9);
   equals(rows[0].Plate, "L656591");
  });
});
